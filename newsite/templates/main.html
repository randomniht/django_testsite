{% extends 'inheritance.html'%}
{% block title %}Site{%endblock%}
{% block div %}
<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π -->
<div id="imageModal" style="
    display:none; 
    position:fixed; 
    top:0; 
    left:0; 
    width:100%; 
    height:100%; 
    background-color: rgba(0,0,0,0.8); 
    justify-content: center; 
    align-items: center; 
    z-index: 9999;">
    <img id="modalImage" src="" alt="" style="max-width:90%; max-height:90%;">
</div>
{% if messages %}
        {% for message in messages %}
            <div class="alert alert-{{ message.tags }}">{{ message }}</div>
        {% endfor %}
    {% endif %}

<!-- <a href="\log" class="btn btn-info rounded-pill px-5">auth</a>
<a href="\reg" class="btn btn-info rounded-pill px-5">reg</a>
<a href="\logout" class="btn btn-info rounded-pill px-5">logout</a> -->




    ##test:12test345

<div class="d-flex justify-content-between align-items-center mx-auto py-3">
    <a class="btn btn-success rounded-pill px-5 py-2 fs-5 fw-bold shadow" href="/post" 
       style="font-size: 1.2rem !important; box-shadow: 0 4px 12px rgba(40, 167, 69, 0.4) !important;">
        üìù Add_post
    </a>
    
    <div class="dropdown">
        <button class="btn btn-info rounded-pill px-5 py-2 fs-5 fw-bold dropdown-toggle shadow" 
                type="button" id="otherDropdown" data-bs-toggle="dropdown" aria-expanded="false"
                style="font-size: 1.2rem !important; box-shadow: 0 4px 12px rgba(0, 123, 255, 0.4) !important;">
            üéÆ Other
        </button>
        <ul class="dropdown-menu shadow-lg" aria-labelledby="otherDropdown"
            style="border: none; border-radius: 12px; overflow: hidden; box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15); margin-top: 8px !important;">
            <li><a class="dropdown-item py-2 fs-6" href="\draw"><i class="bi bi-brush me-2"></i>Draw</a></li>
            <li><a class="dropdown-item py-2 fs-6" href="\randphoto"><i class="bi bi-shuffle me-2"></i>Rand</a></li>
            <li><a class="dropdown-item py-2 fs-6" href="\snake_game"><i class="bi bi-joystick me-2"></i>Snake</a></li>
            <li><a class="dropdown-item py-2 fs-6" href="\words">Words</a></li>

        </ul>
    </div>
</div>
<!-- <a href="\draw" class="btn btn-info rounded-pill px-5">Draw</a>
<a href="\randphoto" class="btn btn-info rounded-pill px-5">Rand</a> -->



<br>

<!-- px-5 col-md-10 -->


{% for data in articles_data %}
    {% with el=data.article %}
    <div class="article-card mb-4 bg-white border rounded mx-auto" style="max-width: 1200px; width: 95%;">
        <div class="article-content p-4">
            <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
            <h1 class="article-title text-center mb-3" style="color: #1c1c1c; font-size: 1.8rem;">{{ el.title }}</h1>

            <!-- –¢–µ–∫—Å—Ç —Å—Ç–∞—Ç—å–∏ -->
            <p class="article-text text-center mb-3" style="color: #1c1c1c; font-size: 1.1rem; line-height: 1.6;">{{ el.text|truncatewords:100 }}</p>

            <!-- –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –≤—ã—Å–æ—Ç—ã -->
            {% if el.image %}
                <div class="text-center mb-3 position-relative">
                    <img src="{{ el.image.url }}" alt="{{ el.title }}" class="article-image img-fluid rounded 
                                {% if el.image.height > 300 %}collapsed-image{% else %}full-height-image{% endif %}"
                        id="image-{{ el.pk }}">
                    
                    {% if el.image.height > 300 %}
                        <div class="expand-section mt-2">
                            <button class="btn btn-outline-primary btn-sm expand-btn" 
                                    data-article-id="{{ el.pk }}"
                                    data-expanded="false">
                                –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å ‚ñ≤
                            </button>
                        </div>
                    {% endif %}
                </div>
            {% else %}
                <p class="text-center text-muted mb-3">!No img</p>
            {% endif %}

            <!-- –ú–µ—Ç–∞-–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
            <div class="article-meta text-center text-muted mb-3" style="font-size: 0.9rem;">
                <p class="mb-1">{{ el.date }}</p>
                <p class="mb-1" style="color: #0079d3; font-weight: 500;">{{ el.author }}</p>
            </div>

            <!-- –ö–Ω–æ–ø–∫–∞ –ª–∞–π–∫–∞ –∏ —Å—á–µ—Ç—á–∏–∫ -->
            <div class="text-center">
                <button class="like-btn btn {% if data.user_has_liked %}btn-danger{% else %}btn-success{% endif %} rounded-pill px-4 py-2 mb-2" 
                        data-article-id="{{ el.pk }}"
                        style="font-weight: 600; font-size: 1rem;">
                    {% if data.user_has_liked %}Like{% else %}Like{% endif %}
                </button>
                <div style=" font-size: 1rem; margin-bottom: 10px;">
                    –õ–∞–π–∫–æ–≤: <span id="like-count-{{ el.pk }}">{{ el.likes_count }}</span>
                </div>
                <a href="{% url 'post_detail' pk=el.pk %}" class="btn btn-primary px-4 py-2" style="background-color: #0079d3; border-color: #0079d3;">
                    Check
                </a>
            </div>
        </div>
    </div>
    {% endwith %}
{% endfor %}












<!-- {% for data in articles_data %}
    {% with el=data.article %}
    <div style="margin: auto; padding: 10px;" class=" row-gap-3 row rounded-1 border border-info">
        <div class="col-6">
            <h1>{{ el.title }}</h1>
            <p>{{ el.text }}</p>
            <p>{{ el.date }}</p>
            <p>{{ el.author }}</p>
            
            <button class="like-btn btn {% if data.user_has_liked %}btn-danger{% else %}btn-success{% endif %} rounded-pill px-3" 
                    data-article-id="{{ el.pk }}">
                {% if data.user_has_liked %}Like{% else %}Like{% endif %}
            </button>
            <div>–õ–∞–π–∫–æ–≤: <span id="like-count-{{ el.pk }}">{{ el.likes_count }}</span></div>
            <br>
            <a href="{% url 'post_detail' pk=el.pk %}" class="btn btn-primary">Check</a>
        </div>
        
        <div class="col-6">
            {% if el.image %}
                <img src="{{ el.image.url }}" alt="{{ el.title }}" class="list-group article-image" style="width: 20%;">
            {% else %}
                <p>!No img</p>
            {% endif %}
        </div>
    </div>
    <br>
    {% endwith %}
{% endfor %} -->
    <br>
{% load static %}
<script src="{% static 'js/modalwind.js' %}"></script>
<script src="{% static 'js/postlike.js' %}"></script>

<script src="{% static 'js/imagexpand.js' %}"></script>
<!-- expend —Ç—Ä–∞—Ç–∏—Ç—å –∞ expand —Ä–∞—Å—à–∏—Ä–∏—Ç—å -->


{%endblock%}
